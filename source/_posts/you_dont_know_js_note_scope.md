---
title: 作用域
tags: ['JavaScript']
categories: '你不知道的JavaScript'
---

## 理解作用域

书中的这一章讲的很透彻，但是重点的LHS和RHS这两个名次真的好难理解，下面我们慢慢来学吧，尽我所能写个所以然来。

### 演员表

这本书的作者很厉害的一点就是让难以理解的计算机专业名次给你转化为简单易懂的生活中的角色来讲解，下面就来看演绎编译过程的三个演员的名字和所扮演角色。

- 引擎

    从头到尾负责整个JavaScript程序的编译和执行过程
- 编译器

    引擎的好朋友，负责语法分析及代码生成等杂活累活
- 作用域

    引擎的另一位好朋友，负责收集并维护由所有声明的标识符（变量）组成的一系列查询，并实施一套非常严格的规则，确定当前执行代码对这些标识符的访问权限

### 作用域嵌套

这个很容易理解，代码中肯定会有一个块或一个函数嵌套在另一个块或函数中，就发生了作用域的嵌套，查找一个变量时，会一个作用域一个的向上查找，这也是很容易理解的

下面来看令我最费解的RHS和LHS

### RHS，LHS

本章的小结中有句话可以很好的诠释这两个词：

> 如果查找的目的是对变量进行赋值，那么就是LHS查询。如果目的是为了获取变量的值，就是RHS查询

这句话就很容易理解这两个词了

### 异常

理解了这两个词和作用域嵌套，我们再来看异常的产生。

我们知道，当我们要查找一个变量的时候，该作用域没有，就会向上查找，知道找到或到达全局作用域，如果我们最终也没能找到这个变量会发生什么呢？

这里就用到了LHS和RHS，如果是LHS，也就是我们要进行赋值操作，到最后我们会自动建立这个变量并赋值（当然如果是严格模式，就没有这回事了）

如果是RHS，最终就会报ReferenceError的异常